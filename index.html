<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í˜ë‚´ìš” ì˜¤ëŠ˜</title>

<link href="https://fonts.googleapis.com/css2?family=Poor+Story&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:'Poor Story','Malgun Gothic','ë§‘ì€ ê³ ë”•',sans-serif;
  background:
    repeating-linear-gradient(
      45deg,
      #ffe4ec,
      #ffe4ec 20px,
      #ffd1e8 20px,
      #ffd1e8 40px
    );
  min-height:100svh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:14px;
}

/* ê³µí†µ í•‘í¬ ë°•ìŠ¤ */
.pink-box{
  background:#fff;
  border:3px solid #ffb6d9;
  border-radius:22px;
  box-shadow:0 6px 18px rgba(255,182,217,0.45);
}

/* ì œëª© */
.title-box{
  padding:18px 22px;
  margin:14px 0 10px;
}
.title-box h1{
  font-size:22px;
  text-align:center;
}

/* ì•ˆë‚´ */
.subtitle{
  font-size:18px;
  font-weight:bold;
  margin:10px 0 6px;
}

/* ìŒì‹ */
.gems-container{
  display:flex;
  gap:20px;
  margin:18px 0;
}

.gem{
  width:110px;
  height:110px;
  font-size:78px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.gem.clicked{
  opacity:0.4;
  filter:grayscale(1);
}

/* ì•Œë¦¼ */
.alarm-section{
  width:100%;
  max-width:420px;
  padding:18px;
  margin-top:10px;
  text-align:center;
}
.alarm-section h3{
  font-size:22px;
  color:#ff69b4;
}
.alarm-btn{
  background:#ffb6d9;
  border:none;
  border-radius:26px;
  padding:12px 28px;
  font-size:18px;
  font-weight:bold;
  margin:8px 0;
}

/* ëª¨ë‹¬ */
.message-modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  justify-content:center;
  align-items:center;
  z-index:1000;
}

.message-paper{
  background:#fff;
  border:3px solid #ffd1e8;
  border-radius:22px;
  padding:26px 20px;
  width:90%;
  max-width:360px;
  text-align:center;
}

.message-text{
  font-size:18px;
  line-height:1.7;
}

/* ì €ì¥ ì™„ë£Œ ë°•ìŠ¤ â­ */
.save-result{
  display:none;
  background:#fff0f6;
  border:2px dashed #ff69b4;
  border-radius:16px;
  padding:14px;
  margin-top:16px;
  font-size:15px;
  color:#000;
}

.save-date{
  font-weight:bold;
  margin-bottom:6px;
}

/* ë²„íŠ¼ */
.buttons{
  display:flex;
  gap:12px;
  justify-content:center;
  margin-top:18px;
}

.btn{
  padding:12px 22px;
  border:none;
  border-radius:24px;
  font-size:15px;
  font-weight:bold;
  cursor:pointer;
}

.btn-save{
  background:#ff69b4;
  color:#fff;
}
.btn-close{
  background:#ddd;
}
</style>
</head>

<body>

<div class="title-box pink-box">
  <h1>ë‹¹ì‹ ì˜ í•˜ë£¨ë¥¼ ì‘ì›í•´ìš” ğŸ’—</h1>
</div>

<p class="subtitle">ì˜¤ëŠ˜ì˜ ì„ ë¬¼ì„ í´ë¦­í•´ ë³´ì„¸ìš”</p>

<div class="gems-container" id="gemsContainer"></div>

<div class="alarm-section pink-box">
  <h3>ë§¤ì¼ ì•„ì¹¨ ì‘ì› ë°›ê¸°</h3>
  <button class="alarm-btn">ì•Œë¦¼ ë°›ê¸° ğŸ””</button>
</div>

<!-- ëª¨ë‹¬ -->
<div class="message-modal" id="messageModal">
  <div class="message-paper">
    <div class="message-text" id="messageText"></div>

    <!-- â­ ì €ì¥ ê²°ê³¼ ë°•ìŠ¤ -->
    <div class="save-result" id="saveResult">
      <div class="save-date" id="saveDate"></div>
      <div id="saveMessageText"></div>
    </div>

    <div class="buttons">
      <button class="btn btn-save" onclick="saveMessage()">ì €ì¥í•˜ê¸° â­</button>
      <button class="btn btn-close" onclick="closeMessage()">ë‹«ê¸°</button>
    </div>
  </div>
</div>

<script>
const messages=[
  "ì˜¤ëŠ˜ë„ ì¶©ë¶„íˆ ì˜í•˜ê³  ìˆì–´ìš”",
  "ë‹¹ì‹ ì€ ì†Œì¤‘í•œ ì‚¬ëŒì´ì—ìš”",
  "ì²œì²œíˆ ê°€ë„ ê´œì°®ì•„ìš”"
];

const foods=["ğŸ°","ğŸ§","ğŸª","ğŸ©","ğŸ«","ğŸ¬","ğŸ­","ğŸ®","ğŸ¦","ğŸ¨","ğŸ¥§","ğŸ§‡","ğŸ¥","ğŸ¯"];

let gemClicked=false;
let currentMessage="";

function renderFoods(){
  const picked=[...foods].sort(()=>0.5-Math.random()).slice(0,2);
  const box=document.getElementById("gemsContainer");
  box.innerHTML="";
  picked.forEach(food=>{
    const d=document.createElement("div");
    d.className="gem";
    d.textContent=food;
    d.onclick=showMessage;
    box.appendChild(d);
  });
}

function showMessage(){
  if(gemClicked) return;
  gemClicked=true;
  document.querySelectorAll(".gem").forEach(g=>g.classList.add("clicked"));
  currentMessage=messages[Math.floor(Math.random()*messages.length)];
  document.getElementById("messageText").textContent=currentMessage;
  document.getElementById("saveResult").style.display="none";
  document.getElementById("messageModal").style.display="flex";
}

function closeMessage(){
  document.getElementById("messageModal").style.display="none";
}

/* â­ ì €ì¥ ì‹œ ì•„ë˜ ë°•ìŠ¤ í‘œì‹œ */
function saveMessage(){
  const d=new Date();
  const date=`${d.getFullYear()}.${String(d.getMonth()+1).padStart(2,"0")}.${String(d.getDate()).padStart(2,"0")}`;
  document.getElementById("saveDate").textContent=date;
  document.getElementById("saveMessageText").textContent=currentMessage;
  document.getElementById("saveResult").style.display="block";
}

renderFoods();
</script>

</body>
</html>
